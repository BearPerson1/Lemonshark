<mxfile host="Electron" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/25.0.2 Chrome/128.0.6613.186 Electron/32.2.5 Safari/537.36" version="25.0.2" pages="5">
  <diagram name="Bullshark worker" id="xZw57qPd2fIflU4HbRnY">
    <mxGraphModel dx="954" dy="657" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="knXoKiFgVriEVHQF-IKP-145" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;align=left;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="40" y="740" width="320" height="160" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-103" value="&lt;p style=&quot;line-height: 130%&quot;&gt;&lt;/p&gt;&lt;h1&gt;Legend&lt;br&gt;&lt;/h1&gt;&lt;p&gt;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;align=left;" parent="1" vertex="1">
          <mxGeometry x="60" y="750" width="280" height="40" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-82" value="Reliable Sender&lt;br&gt;(to other workers)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;verticalAlign=bottom;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="320" y="560" width="240" height="100" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-84" value="Simple Sender&lt;br&gt;(to other workers)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;verticalAlign=bottom;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="40" y="560" width="240" height="100" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-85" value="Simple Sender&lt;br&gt;(to other workers)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;verticalAlign=bottom;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="920" y="560" width="240" height="100" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-86" value="Simple Sender&lt;br&gt;(to our primary)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;verticalAlign=bottom;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="820" y="800" width="125" height="100" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-48" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;exitX=0.25;exitY=1;exitDx=0;exitDy=0;" parent="1" source="knXoKiFgVriEVHQF-IKP-1" target="knXoKiFgVriEVHQF-IKP-36" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-49" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;exitX=0.25;exitY=1;exitDx=0;exitDy=0;" parent="1" source="knXoKiFgVriEVHQF-IKP-1" target="knXoKiFgVriEVHQF-IKP-37" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-50" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;exitX=0.25;exitY=1;exitDx=0;exitDy=0;" parent="1" source="knXoKiFgVriEVHQF-IKP-1" target="knXoKiFgVriEVHQF-IKP-34" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-51" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;exitX=0.75;exitY=1;exitDx=0;exitDy=0;" parent="1" source="knXoKiFgVriEVHQF-IKP-1" target="knXoKiFgVriEVHQF-IKP-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-1" value="&lt;b&gt;Batch Maker&lt;br&gt;&lt;/b&gt;(assembles txs into batches)" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="500" y="460" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-52" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;" parent="1" source="knXoKiFgVriEVHQF-IKP-2" target="knXoKiFgVriEVHQF-IKP-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-2" value="&lt;b&gt;QuorumWaiter&lt;/b&gt;&lt;br&gt;(waits for a quorum to acks our batch)" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="580" y="580" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-53" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" parent="1" source="knXoKiFgVriEVHQF-IKP-3" target="knXoKiFgVriEVHQF-IKP-23" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-3" value="&lt;b&gt;Processor&lt;br&gt;&lt;/b&gt;(hashes and stores batches)" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="580" y="700" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-58" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="knXoKiFgVriEVHQF-IKP-4" target="knXoKiFgVriEVHQF-IKP-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-4" value="IN" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="460" y="360" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-72" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;" parent="1" source="knXoKiFgVriEVHQF-IKP-7" target="knXoKiFgVriEVHQF-IKP-27" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-73" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="knXoKiFgVriEVHQF-IKP-7" target="knXoKiFgVriEVHQF-IKP-24" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-74" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="knXoKiFgVriEVHQF-IKP-7" target="knXoKiFgVriEVHQF-IKP-26" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-7" value="&lt;b&gt;Helper&lt;br&gt;&lt;/b&gt;(replies to batch requests)" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="980" y="460" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-8" value="&lt;b&gt;Processor&lt;br&gt;&lt;/b&gt;(hashes and stores batches)" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="820" y="460" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-43" style="rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="knXoKiFgVriEVHQF-IKP-9" target="knXoKiFgVriEVHQF-IKP-39" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-44" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="knXoKiFgVriEVHQF-IKP-9" target="knXoKiFgVriEVHQF-IKP-41" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-45" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="knXoKiFgVriEVHQF-IKP-9" target="knXoKiFgVriEVHQF-IKP-40" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-9" value="&lt;b&gt;Synchronizer&lt;br&gt;&lt;/b&gt;(requests missing batches)" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="100" y="460" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-60" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=1;endArrow=none;endFill=0;dashed=1;" parent="1" source="knXoKiFgVriEVHQF-IKP-10" target="knXoKiFgVriEVHQF-IKP-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-61" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=1;endArrow=none;endFill=0;dashed=1;" parent="1" source="knXoKiFgVriEVHQF-IKP-10" target="knXoKiFgVriEVHQF-IKP-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-62" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=1;endArrow=none;endFill=0;dashed=1;" parent="1" source="knXoKiFgVriEVHQF-IKP-10" target="knXoKiFgVriEVHQF-IKP-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-10" value="&lt;b&gt;Receiver&lt;br&gt;&lt;/b&gt;(maintains one TCP connection per client)" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="500" y="240" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-59" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="knXoKiFgVriEVHQF-IKP-11" target="knXoKiFgVriEVHQF-IKP-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-11" value="IN" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="620" y="360" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-57" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="knXoKiFgVriEVHQF-IKP-12" target="knXoKiFgVriEVHQF-IKP-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-12" value="IN" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="520" y="360" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-15" value="" style="endArrow=none;dashed=1;html=1;rounded=0;edgeStyle=orthogonalEdgeStyle;jumpSize=6;strokeWidth=2;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="580" y="380" as="sourcePoint" />
            <mxPoint x="600" y="380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-63" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.75;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;" parent="1" source="knXoKiFgVriEVHQF-IKP-16" target="knXoKiFgVriEVHQF-IKP-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-64" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.25;entryY=0;entryDx=0;entryDy=0;" parent="1" source="knXoKiFgVriEVHQF-IKP-16" target="knXoKiFgVriEVHQF-IKP-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-16" value="IN" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="860" y="360" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-69" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=1;endArrow=none;endFill=0;dashed=1;" parent="1" source="knXoKiFgVriEVHQF-IKP-17" target="knXoKiFgVriEVHQF-IKP-19" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-70" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=1;endArrow=none;endFill=0;dashed=1;" parent="1" source="knXoKiFgVriEVHQF-IKP-17" target="knXoKiFgVriEVHQF-IKP-18" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-71" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=1;endArrow=none;endFill=0;dashed=1;" parent="1" source="knXoKiFgVriEVHQF-IKP-17" target="knXoKiFgVriEVHQF-IKP-16" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-17" value="&lt;b&gt;Receiver&lt;br&gt;&lt;/b&gt;(maintains one TCP connection per client)" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="900" y="240" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-67" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;entryX=0.25;entryY=0;entryDx=0;entryDy=0;" parent="1" source="knXoKiFgVriEVHQF-IKP-18" target="knXoKiFgVriEVHQF-IKP-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-68" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.75;entryY=0;entryDx=0;entryDy=0;" parent="1" source="knXoKiFgVriEVHQF-IKP-18" target="knXoKiFgVriEVHQF-IKP-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-18" value="IN" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1020" y="360" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-65" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.75;entryY=0;entryDx=0;entryDy=0;" parent="1" source="knXoKiFgVriEVHQF-IKP-19" target="knXoKiFgVriEVHQF-IKP-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-66" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.25;entryY=0;entryDx=0;entryDy=0;" parent="1" source="knXoKiFgVriEVHQF-IKP-19" target="knXoKiFgVriEVHQF-IKP-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-19" value="IN" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="920" y="360" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-20" value="" style="endArrow=none;dashed=1;html=1;rounded=0;edgeStyle=orthogonalEdgeStyle;jumpSize=6;strokeWidth=2;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="980" y="380" as="sourcePoint" />
            <mxPoint x="1000" y="380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-46" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=1;dashed=1;endArrow=none;endFill=0;" parent="1" source="knXoKiFgVriEVHQF-IKP-21" target="knXoKiFgVriEVHQF-IKP-22" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-21" value="&lt;b&gt;Receiver&lt;br&gt;&lt;/b&gt;(maintains one TCP connection per client)" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="100" y="240" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-47" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;" parent="1" source="knXoKiFgVriEVHQF-IKP-22" target="knXoKiFgVriEVHQF-IKP-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-22" value="IN" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="140" y="360" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-77" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;endArrow=none;endFill=0;strokeWidth=2;" parent="1" source="knXoKiFgVriEVHQF-IKP-23" target="knXoKiFgVriEVHQF-IKP-32" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-23" value="&lt;b&gt;PrimaryConnector&lt;br&gt;&lt;/b&gt;(sends batch digests to our primary)" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="820" y="700" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-24" value="OUT" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="940" y="580" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-26" value="OUT" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1100" y="580" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-27" value="OUT" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1000" y="580" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-28" value="" style="endArrow=none;dashed=1;html=1;rounded=0;edgeStyle=orthogonalEdgeStyle;jumpSize=6;strokeWidth=2;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1060" y="600" as="sourcePoint" />
            <mxPoint x="1080" y="600" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-32" value="OUT" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="860" y="820" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-34" value="OUT" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="340" y="580" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-36" value="OUT" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="500" y="580" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-37" value="OUT" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="400" y="580" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-38" value="" style="endArrow=none;dashed=1;html=1;rounded=0;edgeStyle=orthogonalEdgeStyle;jumpSize=6;strokeWidth=2;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="460" y="599.9999999999998" as="sourcePoint" />
            <mxPoint x="480" y="599.9999999999998" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-39" value="OUT" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="60" y="580" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-40" value="OUT" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="220" y="580" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-41" value="OUT" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="120" y="580" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-42" value="" style="endArrow=none;dashed=1;html=1;rounded=0;edgeStyle=orthogonalEdgeStyle;jumpSize=6;strokeWidth=2;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="179.99999999999955" y="599.9999999999998" as="sourcePoint" />
            <mxPoint x="199.99999999999955" y="599.9999999999998" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-79" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="knXoKiFgVriEVHQF-IKP-8" target="knXoKiFgVriEVHQF-IKP-23" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="940" y="669.9999999999998" as="sourcePoint" />
            <mxPoint x="1020" y="729.9999999999998" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-87" value="&lt;font style=&quot;font-size: 16px&quot;&gt;&lt;b&gt;Handle messages from our primary&lt;/b&gt;&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="80" y="180" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-88" value="&lt;font style=&quot;font-size: 16px&quot;&gt;&lt;b&gt;Handle clients transactions&lt;/b&gt;&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="480" y="180" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-89" value="&lt;font style=&quot;font-size: 16px&quot;&gt;&lt;b&gt;Handle messages from other workers&lt;/b&gt;&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="880" y="180" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-99" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;align=center;fillColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="70" y="830" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-100" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#000000;align=center;" parent="1" vertex="1">
          <mxGeometry x="70" y="805" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-101" value="" style="rhombus;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#000000;align=center;" parent="1" vertex="1">
          <mxGeometry x="70" y="854" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-110" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#000000;align=center;" parent="1" vertex="1">
          <mxGeometry x="560" y="700" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-111" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#000000;align=center;" parent="1" vertex="1">
          <mxGeometry x="800" y="460" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-112" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#000000;align=center;" parent="1" vertex="1">
          <mxGeometry x="480" y="460" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-113" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;align=center;fillColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="560" y="720" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-114" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;align=center;fillColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="800" y="480" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-115" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;align=center;fillColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="960" y="460" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-116" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;align=center;fillColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="80" y="460" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-126" value="" style="rhombus;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#000000;align=center;" parent="1" vertex="1">
          <mxGeometry x="440" y="360" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-127" value="" style="rhombus;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#000000;align=center;" parent="1" vertex="1">
          <mxGeometry x="120" y="360" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-130" value="" style="rhombus;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#000000;align=center;" parent="1" vertex="1">
          <mxGeometry x="840" y="360" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-131" value="" style="rhombus;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#000000;align=center;" parent="1" vertex="1">
          <mxGeometry x="800" y="800" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-132" value="" style="rhombus;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#000000;align=center;" parent="1" vertex="1">
          <mxGeometry x="900" y="560" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-134" value="" style="rhombus;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#000000;align=center;" parent="1" vertex="1">
          <mxGeometry x="300" y="560" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-135" value="" style="rhombus;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#000000;align=center;" parent="1" vertex="1">
          <mxGeometry x="20" y="560" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-137" value="" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#000000;align=center;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="180" y="800" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-138" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="180" y="858.5" as="sourcePoint" />
            <mxPoint x="260" y="859" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-140" value="tokio task" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="270" y="805" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-141" value="tokio channel" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="270" y="849" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-142" value="Network" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="90" y="849" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-143" value="Storage" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="90" y="825" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-144" value="CPU" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="90" y="800" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="2k_Gb5-rkuaz86tfwPc3-1" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;strokeColor=#FF0000;strokeWidth=2;" parent="1" source="knXoKiFgVriEVHQF-IKP-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="370" y="680" as="sourcePoint" />
            <mxPoint x="510" y="820" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2k_Gb5-rkuaz86tfwPc3-2" value="&lt;font color=&quot;#ff0000&quot;&gt;Simple sender to clients&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;verticalAlign=bottom;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="440" y="805" width="140" height="80" as="geometry" />
        </mxCell>
        <mxCell id="2k_Gb5-rkuaz86tfwPc3-3" value="&lt;font color=&quot;#ff0000&quot;&gt;OUT&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="490" y="820" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="2k_Gb5-rkuaz86tfwPc3-4" value="&lt;font color=&quot;#ff0000&quot;&gt;(Informs client of batch changes)&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="410" y="880" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="wQ6GoX5sgKItgMr7cJyb-4" value="&lt;font color=&quot;#ff3b14&quot;&gt;Requests not included into the batch are discarded&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;strokeColor=none;" parent="1" vertex="1">
          <mxGeometry x="620" y="460" width="120" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="Bullshark primary" id="2fVKyGeLQneHyMcekUAi">
    <mxGraphModel dx="1272" dy="876" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="HAAp45hf9TvQeZ6A-fO7-0" />
        <mxCell id="HAAp45hf9TvQeZ6A-fO7-1" parent="HAAp45hf9TvQeZ6A-fO7-0" />
        <mxCell id="pePeARo5CrDZIR2Ze7vS-11" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;align=left;fillColor=none;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="40" y="720" width="480" height="160" as="geometry" />
        </mxCell>
        <mxCell id="qU6H4BKO57v7GteFw9II-23" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeWidth=2;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="HAAp45hf9TvQeZ6A-fO7-1" source="-HHlAqrhYP5N8f0GPGwi-0" target="vaVj92f7ZzTOxJh1_B9I-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-HHlAqrhYP5N8f0GPGwi-0" value="IN" style="rounded=1;whiteSpace=wrap;html=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="120" y="280" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="-HHlAqrhYP5N8f0GPGwi-1" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=1;endArrow=none;endFill=0;dashed=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" source="-HHlAqrhYP5N8f0GPGwi-4" target="-HHlAqrhYP5N8f0GPGwi-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-HHlAqrhYP5N8f0GPGwi-2" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=1;endArrow=none;endFill=0;dashed=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" source="-HHlAqrhYP5N8f0GPGwi-4" target="-HHlAqrhYP5N8f0GPGwi-0" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-HHlAqrhYP5N8f0GPGwi-3" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=1;endArrow=none;endFill=0;dashed=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" source="-HHlAqrhYP5N8f0GPGwi-4" target="-HHlAqrhYP5N8f0GPGwi-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-HHlAqrhYP5N8f0GPGwi-4" value="&lt;b&gt;Receiver&lt;br&gt;&lt;/b&gt;(maintains one TCP connection per client)" style="rounded=1;whiteSpace=wrap;html=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="160" y="160" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="qU6H4BKO57v7GteFw9II-25" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeWidth=2;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="HAAp45hf9TvQeZ6A-fO7-1" source="-HHlAqrhYP5N8f0GPGwi-5" target="vaVj92f7ZzTOxJh1_B9I-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-HHlAqrhYP5N8f0GPGwi-5" value="IN" style="rounded=1;whiteSpace=wrap;html=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="280" y="280" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="qU6H4BKO57v7GteFw9II-24" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeWidth=2;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="HAAp45hf9TvQeZ6A-fO7-1" source="-HHlAqrhYP5N8f0GPGwi-6" target="vaVj92f7ZzTOxJh1_B9I-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-HHlAqrhYP5N8f0GPGwi-6" value="IN" style="rounded=1;whiteSpace=wrap;html=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="180" y="280" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="-HHlAqrhYP5N8f0GPGwi-7" value="" style="endArrow=none;dashed=1;html=1;rounded=0;edgeStyle=orthogonalEdgeStyle;jumpSize=6;strokeWidth=2;" parent="HAAp45hf9TvQeZ6A-fO7-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="240" y="300" as="sourcePoint" />
            <mxPoint x="260" y="300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-HHlAqrhYP5N8f0GPGwi-8" value="" style="rhombus;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#000000;align=center;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="100" y="280" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="qU6H4BKO57v7GteFw9II-26" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeWidth=2;entryX=0.75;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="HAAp45hf9TvQeZ6A-fO7-1" source="-HHlAqrhYP5N8f0GPGwi-9" target="vaVj92f7ZzTOxJh1_B9I-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="qU6H4BKO57v7GteFw9II-31" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeWidth=2;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.25;entryY=0;entryDx=0;entryDy=0;" parent="HAAp45hf9TvQeZ6A-fO7-1" source="-HHlAqrhYP5N8f0GPGwi-9" target="vaVj92f7ZzTOxJh1_B9I-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-HHlAqrhYP5N8f0GPGwi-9" value="IN" style="rounded=1;whiteSpace=wrap;html=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="800" y="280" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="-HHlAqrhYP5N8f0GPGwi-10" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=1;endArrow=none;endFill=0;dashed=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" source="-HHlAqrhYP5N8f0GPGwi-13" target="-HHlAqrhYP5N8f0GPGwi-15" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-HHlAqrhYP5N8f0GPGwi-11" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=1;endArrow=none;endFill=0;dashed=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" source="-HHlAqrhYP5N8f0GPGwi-13" target="-HHlAqrhYP5N8f0GPGwi-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-HHlAqrhYP5N8f0GPGwi-12" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=1;endArrow=none;endFill=0;dashed=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" source="-HHlAqrhYP5N8f0GPGwi-13" target="-HHlAqrhYP5N8f0GPGwi-14" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-HHlAqrhYP5N8f0GPGwi-13" value="&lt;b&gt;Receiver&lt;br&gt;&lt;/b&gt;(maintains one TCP connection per client)" style="rounded=1;whiteSpace=wrap;html=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="840" y="160" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="qU6H4BKO57v7GteFw9II-28" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeWidth=2;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.75;entryY=0;entryDx=0;entryDy=0;" parent="HAAp45hf9TvQeZ6A-fO7-1" source="-HHlAqrhYP5N8f0GPGwi-14" target="vaVj92f7ZzTOxJh1_B9I-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="qU6H4BKO57v7GteFw9II-30" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeWidth=2;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.25;entryY=0;entryDx=0;entryDy=0;" parent="HAAp45hf9TvQeZ6A-fO7-1" source="-HHlAqrhYP5N8f0GPGwi-14" target="vaVj92f7ZzTOxJh1_B9I-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-HHlAqrhYP5N8f0GPGwi-14" value="IN" style="rounded=1;whiteSpace=wrap;html=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="960" y="280" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="qU6H4BKO57v7GteFw9II-27" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeWidth=2;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.75;entryY=0;entryDx=0;entryDy=0;" parent="HAAp45hf9TvQeZ6A-fO7-1" source="-HHlAqrhYP5N8f0GPGwi-15" target="vaVj92f7ZzTOxJh1_B9I-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="qU6H4BKO57v7GteFw9II-29" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeWidth=2;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.25;entryY=0;entryDx=0;entryDy=0;" parent="HAAp45hf9TvQeZ6A-fO7-1" source="-HHlAqrhYP5N8f0GPGwi-15" target="vaVj92f7ZzTOxJh1_B9I-7" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="930" y="370" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-HHlAqrhYP5N8f0GPGwi-15" value="IN" style="rounded=1;whiteSpace=wrap;html=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="860" y="280" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="-HHlAqrhYP5N8f0GPGwi-16" value="" style="endArrow=none;dashed=1;html=1;rounded=0;edgeStyle=orthogonalEdgeStyle;jumpSize=6;strokeWidth=2;" parent="HAAp45hf9TvQeZ6A-fO7-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="920" y="300" as="sourcePoint" />
            <mxPoint x="940" y="300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-HHlAqrhYP5N8f0GPGwi-17" value="" style="rhombus;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#000000;align=center;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="780" y="280" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="uQn9iwTZ7EqaHgwMhxsP-0" value="&lt;font style=&quot;font-size: 16px&quot;&gt;&lt;b&gt;Handle messages from our workers&lt;/b&gt;&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="140" y="100" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="uQn9iwTZ7EqaHgwMhxsP-1" value="&lt;font style=&quot;font-size: 16px&quot;&gt;&lt;b&gt;Handle messages from other primaries&lt;/b&gt;&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="820" y="100" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="qU6H4BKO57v7GteFw9II-22" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startArrow=classic;startFill=1;endArrow=classic;endFill=1;strokeWidth=2;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="HAAp45hf9TvQeZ6A-fO7-1" source="vaVj92f7ZzTOxJh1_B9I-0" target="vaVj92f7ZzTOxJh1_B9I-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vaVj92f7ZzTOxJh1_B9I-0" value="&lt;b&gt;Signature Service&lt;br&gt;&lt;/b&gt;(signs headers)" style="rounded=1;whiteSpace=wrap;html=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="600" y="380" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="qU6H4BKO57v7GteFw9II-0" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeWidth=2;exitX=0;exitY=1;exitDx=0;exitDy=0;" parent="HAAp45hf9TvQeZ6A-fO7-1" source="vaVj92f7ZzTOxJh1_B9I-1" target="e2POby9iwt7ZeuPJfHrP-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="qU6H4BKO57v7GteFw9II-1" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeWidth=2;entryX=1;entryY=0;entryDx=0;entryDy=0;exitX=0;exitY=1;exitDx=0;exitDy=0;" parent="HAAp45hf9TvQeZ6A-fO7-1" source="vaVj92f7ZzTOxJh1_B9I-1" target="e2POby9iwt7ZeuPJfHrP-1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="650" y="460" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="qU6H4BKO57v7GteFw9II-2" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.25;entryDx=0;entryDy=0;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeWidth=2;exitX=0;exitY=1;exitDx=0;exitDy=0;" parent="HAAp45hf9TvQeZ6A-fO7-1" source="vaVj92f7ZzTOxJh1_B9I-1" target="e2POby9iwt7ZeuPJfHrP-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="qU6H4BKO57v7GteFw9II-4" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;startArrow=classic;startFill=1;endArrow=classic;endFill=1;strokeWidth=2;" parent="HAAp45hf9TvQeZ6A-fO7-1" source="vaVj92f7ZzTOxJh1_B9I-1" target="vaVj92f7ZzTOxJh1_B9I-6" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="820" y="560" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="qU6H4BKO57v7GteFw9II-6" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0;entryDx=0;entryDy=0;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeWidth=2;exitX=0.25;exitY=1;exitDx=0;exitDy=0;" parent="HAAp45hf9TvQeZ6A-fO7-1" source="vaVj92f7ZzTOxJh1_B9I-1" target="vaVj92f7ZzTOxJh1_B9I-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="qU6H4BKO57v7GteFw9II-8" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0;entryDx=0;entryDy=0;startArrow=classic;startFill=1;endArrow=classic;endFill=1;strokeWidth=2;exitX=0.75;exitY=1;exitDx=0;exitDy=0;" parent="HAAp45hf9TvQeZ6A-fO7-1" source="vaVj92f7ZzTOxJh1_B9I-1" target="vaVj92f7ZzTOxJh1_B9I-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="qU6H4BKO57v7GteFw9II-10" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0;entryDx=0;entryDy=0;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeWidth=2;exitX=1;exitY=1;exitDx=0;exitDy=0;" parent="HAAp45hf9TvQeZ6A-fO7-1" source="vaVj92f7ZzTOxJh1_B9I-1" target="vaVj92f7ZzTOxJh1_B9I-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vaVj92f7ZzTOxJh1_B9I-1" value="&lt;b&gt;Core&lt;br&gt;&lt;/b&gt;(handles headers, votes, certificates)" style="rounded=1;whiteSpace=wrap;html=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="760" y="380" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vaVj92f7ZzTOxJh1_B9I-2" value="&lt;b&gt;Garbage Collector&lt;br&gt;&lt;/b&gt;(updates the GC round)" style="rounded=1;whiteSpace=wrap;html=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="600" y="780" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vaVj92f7ZzTOxJh1_B9I-3" value="&lt;b&gt;Payload Receiver&lt;br&gt;&lt;/b&gt;(stores the batch digests)" style="rounded=1;whiteSpace=wrap;html=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="160" y="380" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="qU6H4BKO57v7GteFw9II-18" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeWidth=2;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="HAAp45hf9TvQeZ6A-fO7-1" source="vaVj92f7ZzTOxJh1_B9I-4" target="qU6H4BKO57v7GteFw9II-15" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="qU6H4BKO57v7GteFw9II-19" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeWidth=2;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="HAAp45hf9TvQeZ6A-fO7-1" source="vaVj92f7ZzTOxJh1_B9I-4" target="qU6H4BKO57v7GteFw9II-14" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="qU6H4BKO57v7GteFw9II-20" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeWidth=2;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="HAAp45hf9TvQeZ6A-fO7-1" source="vaVj92f7ZzTOxJh1_B9I-4" target="qU6H4BKO57v7GteFw9II-13" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vaVj92f7ZzTOxJh1_B9I-4" value="&lt;b&gt;Header Waiter&lt;br&gt;&lt;/b&gt;(requests missing batches and certificates)" style="rounded=1;whiteSpace=wrap;html=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="920" y="660" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vaVj92f7ZzTOxJh1_B9I-5" value="&lt;b&gt;Certificate Waiter&lt;br&gt;&lt;/b&gt;(waits for all the history of certificates)" style="rounded=1;whiteSpace=wrap;html=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="1080" y="660" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vaVj92f7ZzTOxJh1_B9I-6" value="&lt;b&gt;Proposer&lt;br&gt;&lt;/b&gt;(make new headers)" style="rounded=1;whiteSpace=wrap;html=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="760" y="660" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="V3EeohtREDRytG3yM00T-6" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;strokeWidth=2;startArrow=none;startFill=0;exitX=1;exitY=1;exitDx=0;exitDy=0;" parent="HAAp45hf9TvQeZ6A-fO7-1" source="vaVj92f7ZzTOxJh1_B9I-7" target="V3EeohtREDRytG3yM00T-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="V3EeohtREDRytG3yM00T-9" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;strokeWidth=2;startArrow=none;startFill=0;exitX=1;exitY=1;exitDx=0;exitDy=0;" parent="HAAp45hf9TvQeZ6A-fO7-1" source="vaVj92f7ZzTOxJh1_B9I-7" target="V3EeohtREDRytG3yM00T-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="V3EeohtREDRytG3yM00T-10" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;strokeWidth=2;startArrow=none;startFill=0;exitX=1;exitY=1;exitDx=0;exitDy=0;" parent="HAAp45hf9TvQeZ6A-fO7-1" source="vaVj92f7ZzTOxJh1_B9I-7" target="V3EeohtREDRytG3yM00T-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vaVj92f7ZzTOxJh1_B9I-7" value="&lt;b&gt;Helper&lt;br&gt;&lt;/b&gt;(replies to batch requests)" style="rounded=1;whiteSpace=wrap;html=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="920" y="380" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="qU6H4BKO57v7GteFw9II-7" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeWidth=2;" parent="HAAp45hf9TvQeZ6A-fO7-1" source="vaVj92f7ZzTOxJh1_B9I-8" target="vaVj92f7ZzTOxJh1_B9I-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vaVj92f7ZzTOxJh1_B9I-8" value="&lt;b&gt;Consensus&lt;br&gt;&lt;/b&gt;(orders certificates)" style="rounded=1;whiteSpace=wrap;html=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="600" y="660" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="e2POby9iwt7ZeuPJfHrP-0" value="Reliable Sender&lt;br&gt;(to other primaries)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;verticalAlign=bottom;dashed=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="480" y="500" width="240" height="100" as="geometry" />
        </mxCell>
        <mxCell id="e2POby9iwt7ZeuPJfHrP-1" value="OUT" style="rounded=1;whiteSpace=wrap;html=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="500" y="520" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="e2POby9iwt7ZeuPJfHrP-2" value="OUT" style="rounded=1;whiteSpace=wrap;html=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="660" y="520" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="e2POby9iwt7ZeuPJfHrP-3" value="OUT" style="rounded=1;whiteSpace=wrap;html=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="560" y="520" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="e2POby9iwt7ZeuPJfHrP-4" value="" style="endArrow=none;dashed=1;html=1;rounded=0;edgeStyle=orthogonalEdgeStyle;jumpSize=6;strokeWidth=2;" parent="HAAp45hf9TvQeZ6A-fO7-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="620" y="539.9999999999998" as="sourcePoint" />
            <mxPoint x="640" y="539.9999999999998" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="e2POby9iwt7ZeuPJfHrP-5" value="" style="rhombus;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#000000;align=center;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="460" y="500" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="V3EeohtREDRytG3yM00T-0" value="Simple Sender&lt;br&gt;(to other primaries)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;verticalAlign=bottom;dashed=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="1080" y="480" width="240" height="100" as="geometry" />
        </mxCell>
        <mxCell id="V3EeohtREDRytG3yM00T-1" value="OUT" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="1100" y="500" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="V3EeohtREDRytG3yM00T-2" value="OUT" style="rounded=1;whiteSpace=wrap;html=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="1260" y="500" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="V3EeohtREDRytG3yM00T-3" value="OUT" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="1160" y="500" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="V3EeohtREDRytG3yM00T-5" value="" style="rhombus;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#000000;align=center;strokeWidth=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="1060" y="480" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="qU6H4BKO57v7GteFw9II-12" value="Simple Sender&lt;br&gt;(to other primaries or our workers)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;verticalAlign=bottom;dashed=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="860" y="780" width="240" height="100" as="geometry" />
        </mxCell>
        <mxCell id="qU6H4BKO57v7GteFw9II-13" value="OUT" style="rounded=1;whiteSpace=wrap;html=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="880" y="800" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="qU6H4BKO57v7GteFw9II-14" value="OUT" style="rounded=1;whiteSpace=wrap;html=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="1040" y="800" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="qU6H4BKO57v7GteFw9II-15" value="OUT" style="rounded=1;whiteSpace=wrap;html=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="940" y="800" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="qU6H4BKO57v7GteFw9II-17" value="" style="rhombus;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#000000;align=center;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="840" y="780" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="pePeARo5CrDZIR2Ze7vS-0" value="&lt;p style=&quot;line-height: 130%&quot;&gt;&lt;/p&gt;&lt;h1&gt;Legend&lt;br&gt;&lt;/h1&gt;&lt;p&gt;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;align=left;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="60" y="730" width="280" height="40" as="geometry" />
        </mxCell>
        <mxCell id="pePeARo5CrDZIR2Ze7vS-1" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;align=center;fillColor=#000000;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="70" y="810" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="pePeARo5CrDZIR2Ze7vS-2" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#000000;align=center;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="70" y="785" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="pePeARo5CrDZIR2Ze7vS-3" value="" style="rhombus;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#000000;align=center;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="70" y="834" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="pePeARo5CrDZIR2Ze7vS-4" value="" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#000000;align=center;fillColor=#FFFFFF;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="180" y="780" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="pePeARo5CrDZIR2Ze7vS-5" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" parent="HAAp45hf9TvQeZ6A-fO7-1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="180" y="838.5000000000002" as="sourcePoint" />
            <mxPoint x="260" y="839" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="pePeARo5CrDZIR2Ze7vS-6" value="tokio task" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="270" y="785" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="pePeARo5CrDZIR2Ze7vS-7" value="tokio channel" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="270" y="829" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="pePeARo5CrDZIR2Ze7vS-8" value="Network" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="90" y="829" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="pePeARo5CrDZIR2Ze7vS-9" value="Storage" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="90" y="805" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="pePeARo5CrDZIR2Ze7vS-10" value="CPU" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="90" y="780" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Tm-ADq5QafeZEMg3qMQx-0" value="&lt;b&gt;W&lt;/b&gt;" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=none;align=center;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="600" y="750" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Tm-ADq5QafeZEMg3qMQx-2" value="&lt;b&gt;R&lt;/b&gt;" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=none;align=center;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="760" y="350" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Tm-ADq5QafeZEMg3qMQx-3" value="&lt;b&gt;R&lt;/b&gt;" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=none;align=center;strokeWidth=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="1010" y="630" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Tm-ADq5QafeZEMg3qMQx-6" value="&lt;b&gt;W&lt;/b&gt;" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=none;align=center;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="380" y="780" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Tm-ADq5QafeZEMg3qMQx-7" value="&lt;b&gt;R&lt;/b&gt;" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=none;align=center;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="380" y="825" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Tm-ADq5QafeZEMg3qMQx-8" value="atomic reader" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="420" y="829" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Tm-ADq5QafeZEMg3qMQx-9" value="atomic writer" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="420" y="785" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="raGEyoFTLa6iEfpR9mSr-0" value="" style="endArrow=none;dashed=1;html=1;rounded=0;edgeStyle=orthogonalEdgeStyle;jumpSize=6;strokeWidth=2;" parent="HAAp45hf9TvQeZ6A-fO7-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1220" y="519.9999999999998" as="sourcePoint" />
            <mxPoint x="1240" y="519.9999999999998" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="raGEyoFTLa6iEfpR9mSr-2" value="" style="endArrow=none;dashed=1;html=1;rounded=0;edgeStyle=orthogonalEdgeStyle;jumpSize=6;strokeWidth=2;" parent="HAAp45hf9TvQeZ6A-fO7-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1000" y="819.9999999999998" as="sourcePoint" />
            <mxPoint x="1020" y="819.9999999999998" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="q7g5QddVz4xeTJMIelNV-0" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;align=center;fillColor=#000000;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="140" y="380" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="q7g5QddVz4xeTJMIelNV-1" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;align=center;fillColor=#000000;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="1050" y="380" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="q7g5QddVz4xeTJMIelNV-4" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;align=center;fillColor=#000000;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="890" y="380" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="q7g5QddVz4xeTJMIelNV-5" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;align=center;fillColor=#000000;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="900" y="660" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="q7g5QddVz4xeTJMIelNV-6" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;align=center;fillColor=#000000;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="1060" y="660" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="2wIVXcvUbFfCVlVOHa5K-0" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#000000;align=center;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="580" y="380" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="2wIVXcvUbFfCVlVOHa5K-1" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#000000;align=center;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="890" y="400" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="2wIVXcvUbFfCVlVOHa5K-2" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#000000;align=center;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="580" y="660" width="10" height="10" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="zkF7VfUO7svvHId96zqW" name="Benchmark client">
    <mxGraphModel dx="1468" dy="1011" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="1" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="9sk_bgznKVSu4Z9boD-n-1" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=1;dashed=1;endArrow=none;endFill=0;strokeColor=#FF0000;" edge="1" parent="1" source="9sk_bgznKVSu4Z9boD-n-2" target="9sk_bgznKVSu4Z9boD-n-4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9sk_bgznKVSu4Z9boD-n-2" value="&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;Receiver&lt;br&gt;&lt;/b&gt;(maintains one TCP connection per client)&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="100" y="240" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="9sk_bgznKVSu4Z9boD-n-3" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#FF0000;" edge="1" parent="1" source="9sk_bgznKVSu4Z9boD-n-4">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="160" y="460" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="9sk_bgznKVSu4Z9boD-n-4" value="&lt;font color=&quot;#ff0000&quot;&gt;IN&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="140" y="360" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="9sk_bgznKVSu4Z9boD-n-5" value="&lt;font color=&quot;#ff0000&quot; style=&quot;font-size: 16px&quot;&gt;&lt;b&gt;Handle messages from worker&lt;/b&gt;&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="80" y="180" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="9sk_bgznKVSu4Z9boD-n-6" value="" style="rhombus;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#000000;align=center;" vertex="1" parent="1">
          <mxGeometry x="120" y="360" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="PRmSUB9Kt-dHEnb-loGh-1" value="&lt;font color=&quot;#ff0000&quot;&gt;&lt;b style=&quot;text-wrap: nowrap;&quot;&gt;Batch changer/Shard changer*&lt;/b&gt;&lt;br style=&quot;text-wrap: nowrap;&quot;&gt;&lt;span style=&quot;text-wrap: nowrap;&quot;&gt;Worker notifies client&amp;nbsp;&lt;/span&gt;&lt;/font&gt;&lt;div&gt;&lt;span style=&quot;text-wrap: nowrap;&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;which is the last accepted txn&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;text-wrap: nowrap;&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;Client discards the not accepted&amp;nbsp;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;text-wrap: nowrap;&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;transactions and swaps to the next shard/batch&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="100" y="470" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="PRmSUB9Kt-dHEnb-loGh-2" value="&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;Load generator*&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;font color=&quot;#ff0000&quot;&gt;Generates transactions based on shard&lt;/font&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="360" y="470" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="PRmSUB9Kt-dHEnb-loGh-3" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#FF0000;" edge="1" parent="1" target="PRmSUB9Kt-dHEnb-loGh-2">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="170" y="470" as="targetPoint" />
            <mxPoint x="290" y="500" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="PRmSUB9Kt-dHEnb-loGh-4" value="&lt;font color=&quot;#ff0000&quot;&gt;Out&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="410" y="590" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="PRmSUB9Kt-dHEnb-loGh-5" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#FF0000;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="PRmSUB9Kt-dHEnb-loGh-2" target="PRmSUB9Kt-dHEnb-loGh-4">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="370" y="510" as="targetPoint" />
            <mxPoint x="300" y="510" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RAIl2ukjDOEVUO5LNTuc-1" value="&lt;font color=&quot;#ff0000&quot;&gt;Send txn&#39;s to workers&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="355" y="630" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="3FqymM7iySFq44cFdw3O-1" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;strokeColor=#FF0000;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="550" y="720" as="sourcePoint" />
            <mxPoint x="550" y="170" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="h4eok3Xwq1UyIfSzSvQN-1" value="&lt;font color=&quot;#ff0000&quot; style=&quot;font-size: 16px&quot;&gt;&lt;b&gt;Handle messages from primary&lt;/b&gt;&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="1080" y="180" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="h4eok3Xwq1UyIfSzSvQN-2" value="&lt;font style=&quot;font-size: 17px;&quot; color=&quot;#ff0000&quot;&gt;&lt;b&gt;Causally dependant txn Client&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="860" y="120" width="270" height="30" as="geometry" />
        </mxCell>
        <mxCell id="h4eok3Xwq1UyIfSzSvQN-3" value="&lt;font color=&quot;#ff0000&quot; style=&quot;font-size: 16px&quot;&gt;&lt;b&gt;Handle messages from worker&lt;/b&gt;&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="720" y="180" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="h4eok3Xwq1UyIfSzSvQN-10" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=1;dashed=1;endArrow=none;endFill=0;strokeColor=#FF0000;" edge="1" parent="1" target="h4eok3Xwq1UyIfSzSvQN-11">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="160" y="300" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="h4eok3Xwq1UyIfSzSvQN-11" value="&lt;font color=&quot;#ff0000&quot;&gt;IN&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="140" y="360" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="h4eok3Xwq1UyIfSzSvQN-15" value="&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;Load generator*&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;font color=&quot;#ff0000&quot;&gt;Generate causally dependant transactions&lt;/font&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="730" y="440" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="h4eok3Xwq1UyIfSzSvQN-17" value="&lt;font color=&quot;#ff0000&quot;&gt;Out&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="775" y="550" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="h4eok3Xwq1UyIfSzSvQN-18" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#FF0000;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" target="h4eok3Xwq1UyIfSzSvQN-17">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="735" y="470" as="targetPoint" />
            <mxPoint x="795" y="490" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="h4eok3Xwq1UyIfSzSvQN-19" value="&lt;font color=&quot;#ff0000&quot;&gt;Send txn&#39;s to workers&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="720" y="590" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="h4eok3Xwq1UyIfSzSvQN-24" value="&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;Receiver&lt;br&gt;&lt;/b&gt;(maintains one TCP connection per client)&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1090" y="240" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="h4eok3Xwq1UyIfSzSvQN-25" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=1;dashed=1;endArrow=none;endFill=0;strokeColor=#FF0000;" edge="1" parent="1" target="h4eok3Xwq1UyIfSzSvQN-26">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1150" y="300" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="h4eok3Xwq1UyIfSzSvQN-29" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#FF0000;" edge="1" parent="1" source="h4eok3Xwq1UyIfSzSvQN-26" target="h4eok3Xwq1UyIfSzSvQN-15">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="h4eok3Xwq1UyIfSzSvQN-26" value="&lt;font color=&quot;#ff0000&quot;&gt;IN&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1130" y="360" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="h4eok3Xwq1UyIfSzSvQN-30" value="&lt;font color=&quot;#ff0000&quot;&gt;(Primary tells client which request to resubmit)&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1010" y="400" width="270" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="Lemonshark worker" id="rb6PS0tda3iw1M40DXwM">
    <mxGraphModel dx="954" dy="657" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="knXoKiFgVriEVHQF-IKP-145" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;align=left;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="40" y="740" width="320" height="160" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-103" value="&lt;p style=&quot;line-height: 130%&quot;&gt;&lt;/p&gt;&lt;h1&gt;Legend&lt;br&gt;&lt;/h1&gt;&lt;p&gt;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;align=left;" parent="1" vertex="1">
          <mxGeometry x="60" y="750" width="280" height="40" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-82" value="Reliable Sender&lt;br&gt;(to other workers)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;verticalAlign=bottom;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="320" y="560" width="240" height="100" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-84" value="Simple Sender&lt;br&gt;(to other workers)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;verticalAlign=bottom;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="40" y="560" width="240" height="100" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-85" value="Simple Sender&lt;br&gt;(to other workers)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;verticalAlign=bottom;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="920" y="560" width="240" height="100" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-86" value="Simple Sender&lt;br&gt;(to our primary)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;verticalAlign=bottom;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="820" y="800" width="125" height="100" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-48" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;exitX=0.25;exitY=1;exitDx=0;exitDy=0;" parent="1" source="knXoKiFgVriEVHQF-IKP-1" target="knXoKiFgVriEVHQF-IKP-36" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-49" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;exitX=0.25;exitY=1;exitDx=0;exitDy=0;" parent="1" source="knXoKiFgVriEVHQF-IKP-1" target="knXoKiFgVriEVHQF-IKP-37" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-50" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;exitX=0.25;exitY=1;exitDx=0;exitDy=0;" parent="1" source="knXoKiFgVriEVHQF-IKP-1" target="knXoKiFgVriEVHQF-IKP-34" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-51" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;exitX=0.75;exitY=1;exitDx=0;exitDy=0;" parent="1" source="knXoKiFgVriEVHQF-IKP-1" target="knXoKiFgVriEVHQF-IKP-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-1" value="&lt;b&gt;Batch Maker&lt;br&gt;&lt;/b&gt;(assembles txs into batches)" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="500" y="460" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-52" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;" parent="1" source="knXoKiFgVriEVHQF-IKP-2" target="knXoKiFgVriEVHQF-IKP-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-2" value="&lt;b&gt;QuorumWaiter&lt;/b&gt;&lt;br&gt;(waits for a quorum to acks our batch)" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="580" y="580" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-53" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" parent="1" source="knXoKiFgVriEVHQF-IKP-3" target="knXoKiFgVriEVHQF-IKP-23" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-3" value="&lt;b&gt;Processor&lt;br&gt;&lt;/b&gt;(hashes and stores batches)" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="580" y="700" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-58" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="knXoKiFgVriEVHQF-IKP-4" target="knXoKiFgVriEVHQF-IKP-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-4" value="IN" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="460" y="360" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-72" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;" parent="1" source="knXoKiFgVriEVHQF-IKP-7" target="knXoKiFgVriEVHQF-IKP-27" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-73" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="knXoKiFgVriEVHQF-IKP-7" target="knXoKiFgVriEVHQF-IKP-24" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-74" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="knXoKiFgVriEVHQF-IKP-7" target="knXoKiFgVriEVHQF-IKP-26" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-7" value="&lt;b&gt;Helper&lt;br&gt;&lt;/b&gt;(replies to batch requests)" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="980" y="460" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-8" value="&lt;b&gt;Processor&lt;br&gt;&lt;/b&gt;(hashes and stores batches)" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="820" y="460" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-43" style="rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="knXoKiFgVriEVHQF-IKP-9" target="knXoKiFgVriEVHQF-IKP-39" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-44" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="knXoKiFgVriEVHQF-IKP-9" target="knXoKiFgVriEVHQF-IKP-41" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-45" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="knXoKiFgVriEVHQF-IKP-9" target="knXoKiFgVriEVHQF-IKP-40" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-9" value="&lt;b&gt;Synchronizer&lt;br&gt;&lt;/b&gt;(requests missing batches)" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="100" y="460" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-60" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=1;endArrow=none;endFill=0;dashed=1;" parent="1" source="knXoKiFgVriEVHQF-IKP-10" target="knXoKiFgVriEVHQF-IKP-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-61" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=1;endArrow=none;endFill=0;dashed=1;" parent="1" source="knXoKiFgVriEVHQF-IKP-10" target="knXoKiFgVriEVHQF-IKP-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-62" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=1;endArrow=none;endFill=0;dashed=1;" parent="1" source="knXoKiFgVriEVHQF-IKP-10" target="knXoKiFgVriEVHQF-IKP-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-10" value="&lt;b&gt;Receiver&lt;br&gt;&lt;/b&gt;(maintains one TCP connection per client)" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="500" y="240" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-59" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="knXoKiFgVriEVHQF-IKP-11" target="knXoKiFgVriEVHQF-IKP-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-11" value="IN" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="620" y="360" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-57" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="knXoKiFgVriEVHQF-IKP-12" target="knXoKiFgVriEVHQF-IKP-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-12" value="IN" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="520" y="360" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-15" value="" style="endArrow=none;dashed=1;html=1;rounded=0;edgeStyle=orthogonalEdgeStyle;jumpSize=6;strokeWidth=2;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="580" y="380" as="sourcePoint" />
            <mxPoint x="600" y="380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-63" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.75;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;" parent="1" source="knXoKiFgVriEVHQF-IKP-16" target="knXoKiFgVriEVHQF-IKP-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-64" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.25;entryY=0;entryDx=0;entryDy=0;" parent="1" source="knXoKiFgVriEVHQF-IKP-16" target="knXoKiFgVriEVHQF-IKP-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-16" value="IN" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="860" y="360" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-69" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=1;endArrow=none;endFill=0;dashed=1;" parent="1" source="knXoKiFgVriEVHQF-IKP-17" target="knXoKiFgVriEVHQF-IKP-19" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-70" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=1;endArrow=none;endFill=0;dashed=1;" parent="1" source="knXoKiFgVriEVHQF-IKP-17" target="knXoKiFgVriEVHQF-IKP-18" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-71" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=1;endArrow=none;endFill=0;dashed=1;" parent="1" source="knXoKiFgVriEVHQF-IKP-17" target="knXoKiFgVriEVHQF-IKP-16" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-17" value="&lt;b&gt;Receiver&lt;br&gt;&lt;/b&gt;(maintains one TCP connection per client)" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="900" y="240" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-67" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;entryX=0.25;entryY=0;entryDx=0;entryDy=0;" parent="1" source="knXoKiFgVriEVHQF-IKP-18" target="knXoKiFgVriEVHQF-IKP-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-68" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.75;entryY=0;entryDx=0;entryDy=0;" parent="1" source="knXoKiFgVriEVHQF-IKP-18" target="knXoKiFgVriEVHQF-IKP-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-18" value="IN" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1020" y="360" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-65" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.75;entryY=0;entryDx=0;entryDy=0;" parent="1" source="knXoKiFgVriEVHQF-IKP-19" target="knXoKiFgVriEVHQF-IKP-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-66" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.25;entryY=0;entryDx=0;entryDy=0;" parent="1" source="knXoKiFgVriEVHQF-IKP-19" target="knXoKiFgVriEVHQF-IKP-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-19" value="IN" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="920" y="360" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-20" value="" style="endArrow=none;dashed=1;html=1;rounded=0;edgeStyle=orthogonalEdgeStyle;jumpSize=6;strokeWidth=2;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="980" y="380" as="sourcePoint" />
            <mxPoint x="1000" y="380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-46" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=1;dashed=1;endArrow=none;endFill=0;" parent="1" source="knXoKiFgVriEVHQF-IKP-21" target="knXoKiFgVriEVHQF-IKP-22" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-21" value="&lt;b&gt;Receiver&lt;br&gt;&lt;/b&gt;(maintains one TCP connection per client)" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="100" y="240" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-47" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;" parent="1" source="knXoKiFgVriEVHQF-IKP-22" target="knXoKiFgVriEVHQF-IKP-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-22" value="IN" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="140" y="360" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-77" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;endArrow=none;endFill=0;strokeWidth=2;" parent="1" source="knXoKiFgVriEVHQF-IKP-23" target="knXoKiFgVriEVHQF-IKP-32" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-23" value="&lt;b&gt;PrimaryConnector&lt;br&gt;&lt;/b&gt;(sends batch digests to our primary)" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="820" y="700" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-24" value="OUT" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="940" y="580" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-26" value="OUT" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1100" y="580" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-27" value="OUT" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1000" y="580" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-28" value="" style="endArrow=none;dashed=1;html=1;rounded=0;edgeStyle=orthogonalEdgeStyle;jumpSize=6;strokeWidth=2;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1060" y="600" as="sourcePoint" />
            <mxPoint x="1080" y="600" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-32" value="OUT" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="860" y="820" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-34" value="OUT" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="340" y="580" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-36" value="OUT" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="500" y="580" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-37" value="OUT" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="400" y="580" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-38" value="" style="endArrow=none;dashed=1;html=1;rounded=0;edgeStyle=orthogonalEdgeStyle;jumpSize=6;strokeWidth=2;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="460" y="599.9999999999998" as="sourcePoint" />
            <mxPoint x="480" y="599.9999999999998" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-39" value="OUT" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="60" y="580" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-40" value="OUT" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="220" y="580" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-41" value="OUT" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="120" y="580" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-42" value="" style="endArrow=none;dashed=1;html=1;rounded=0;edgeStyle=orthogonalEdgeStyle;jumpSize=6;strokeWidth=2;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="179.99999999999955" y="599.9999999999998" as="sourcePoint" />
            <mxPoint x="199.99999999999955" y="599.9999999999998" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-79" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="knXoKiFgVriEVHQF-IKP-8" target="knXoKiFgVriEVHQF-IKP-23" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="940" y="669.9999999999998" as="sourcePoint" />
            <mxPoint x="1020" y="729.9999999999998" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-87" value="&lt;font style=&quot;font-size: 16px&quot;&gt;&lt;b&gt;Handle messages from our primary&lt;/b&gt;&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="80" y="180" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-88" value="&lt;font style=&quot;font-size: 16px&quot;&gt;&lt;b&gt;Handle clients transactions&lt;/b&gt;&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="480" y="180" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-89" value="&lt;font style=&quot;font-size: 16px&quot;&gt;&lt;b&gt;Handle messages from other workers&lt;/b&gt;&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="880" y="180" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-99" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;align=center;fillColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="70" y="830" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-100" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#000000;align=center;" parent="1" vertex="1">
          <mxGeometry x="70" y="805" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-101" value="" style="rhombus;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#000000;align=center;" parent="1" vertex="1">
          <mxGeometry x="70" y="854" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-110" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#000000;align=center;" parent="1" vertex="1">
          <mxGeometry x="560" y="700" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-111" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#000000;align=center;" parent="1" vertex="1">
          <mxGeometry x="800" y="460" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-112" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#000000;align=center;" parent="1" vertex="1">
          <mxGeometry x="480" y="460" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-113" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;align=center;fillColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="560" y="720" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-114" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;align=center;fillColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="800" y="480" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-115" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;align=center;fillColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="960" y="460" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-116" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;align=center;fillColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="80" y="460" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-126" value="" style="rhombus;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#000000;align=center;" parent="1" vertex="1">
          <mxGeometry x="440" y="360" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-127" value="" style="rhombus;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#000000;align=center;" parent="1" vertex="1">
          <mxGeometry x="120" y="360" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-130" value="" style="rhombus;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#000000;align=center;" parent="1" vertex="1">
          <mxGeometry x="840" y="360" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-131" value="" style="rhombus;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#000000;align=center;" parent="1" vertex="1">
          <mxGeometry x="800" y="800" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-132" value="" style="rhombus;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#000000;align=center;" parent="1" vertex="1">
          <mxGeometry x="900" y="560" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-134" value="" style="rhombus;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#000000;align=center;" parent="1" vertex="1">
          <mxGeometry x="300" y="560" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-135" value="" style="rhombus;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#000000;align=center;" parent="1" vertex="1">
          <mxGeometry x="20" y="560" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-137" value="" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#000000;align=center;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="180" y="800" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-138" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="180" y="858.5" as="sourcePoint" />
            <mxPoint x="260" y="859" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-140" value="tokio task" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="270" y="805" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-141" value="tokio channel" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="270" y="849" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-142" value="Network" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="90" y="849" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-143" value="Storage" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="90" y="825" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="knXoKiFgVriEVHQF-IKP-144" value="CPU" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="90" y="800" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="i2YsrLv59a2Yg3JAt59w-1" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;strokeColor=#FF0000;strokeWidth=2;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="560" y="520" as="sourcePoint" />
            <mxPoint x="510" y="820" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="i2YsrLv59a2Yg3JAt59w-2" value="&lt;font color=&quot;#ff0000&quot;&gt;Simple sender to clients&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;verticalAlign=bottom;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="440" y="805" width="140" height="80" as="geometry" />
        </mxCell>
        <mxCell id="i2YsrLv59a2Yg3JAt59w-3" value="&lt;font color=&quot;#ff0000&quot;&gt;OUT&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="490" y="820" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="i2YsrLv59a2Yg3JAt59w-4" value="&lt;font color=&quot;#ff0000&quot;&gt;(Informs client of shard changes)&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="410" y="880" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="i2YsrLv59a2Yg3JAt59w-5" value="&lt;font color=&quot;#ff3b14&quot;&gt;Requests not included into the batch are discarded&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="620" y="460" width="120" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="Lemonshark primary" id="xQdHY3TeGQdGOLakvG4B">
    <mxGraphModel dx="1590" dy="1095" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="HAAp45hf9TvQeZ6A-fO7-0" />
        <mxCell id="HAAp45hf9TvQeZ6A-fO7-1" parent="HAAp45hf9TvQeZ6A-fO7-0" />
        <mxCell id="pePeARo5CrDZIR2Ze7vS-11" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;align=left;fillColor=none;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="30" y="730" width="480" height="160" as="geometry" />
        </mxCell>
        <mxCell id="qU6H4BKO57v7GteFw9II-23" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeWidth=2;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="HAAp45hf9TvQeZ6A-fO7-1" source="-HHlAqrhYP5N8f0GPGwi-0" target="vaVj92f7ZzTOxJh1_B9I-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-HHlAqrhYP5N8f0GPGwi-0" value="IN" style="rounded=1;whiteSpace=wrap;html=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="120" y="280" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="-HHlAqrhYP5N8f0GPGwi-1" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=1;endArrow=none;endFill=0;dashed=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" source="-HHlAqrhYP5N8f0GPGwi-4" target="-HHlAqrhYP5N8f0GPGwi-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-HHlAqrhYP5N8f0GPGwi-2" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=1;endArrow=none;endFill=0;dashed=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" source="-HHlAqrhYP5N8f0GPGwi-4" target="-HHlAqrhYP5N8f0GPGwi-0" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-HHlAqrhYP5N8f0GPGwi-3" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=1;endArrow=none;endFill=0;dashed=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" source="-HHlAqrhYP5N8f0GPGwi-4" target="-HHlAqrhYP5N8f0GPGwi-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-HHlAqrhYP5N8f0GPGwi-4" value="&lt;b&gt;Receiver&lt;br&gt;&lt;/b&gt;(maintains one TCP connection per client)" style="rounded=1;whiteSpace=wrap;html=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="160" y="160" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="qU6H4BKO57v7GteFw9II-25" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeWidth=2;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="HAAp45hf9TvQeZ6A-fO7-1" source="-HHlAqrhYP5N8f0GPGwi-5" target="vaVj92f7ZzTOxJh1_B9I-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-HHlAqrhYP5N8f0GPGwi-5" value="IN" style="rounded=1;whiteSpace=wrap;html=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="280" y="280" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="qU6H4BKO57v7GteFw9II-24" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeWidth=2;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="HAAp45hf9TvQeZ6A-fO7-1" source="-HHlAqrhYP5N8f0GPGwi-6" target="vaVj92f7ZzTOxJh1_B9I-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-HHlAqrhYP5N8f0GPGwi-6" value="IN" style="rounded=1;whiteSpace=wrap;html=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="180" y="280" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="-HHlAqrhYP5N8f0GPGwi-7" value="" style="endArrow=none;dashed=1;html=1;rounded=0;edgeStyle=orthogonalEdgeStyle;jumpSize=6;strokeWidth=2;" parent="HAAp45hf9TvQeZ6A-fO7-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="240" y="300" as="sourcePoint" />
            <mxPoint x="260" y="300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-HHlAqrhYP5N8f0GPGwi-8" value="" style="rhombus;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#000000;align=center;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="100" y="280" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="qU6H4BKO57v7GteFw9II-26" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeWidth=2;entryX=0.75;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="HAAp45hf9TvQeZ6A-fO7-1" source="-HHlAqrhYP5N8f0GPGwi-9" target="vaVj92f7ZzTOxJh1_B9I-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="qU6H4BKO57v7GteFw9II-31" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeWidth=2;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.25;entryY=0;entryDx=0;entryDy=0;" parent="HAAp45hf9TvQeZ6A-fO7-1" source="-HHlAqrhYP5N8f0GPGwi-9" target="vaVj92f7ZzTOxJh1_B9I-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-HHlAqrhYP5N8f0GPGwi-9" value="IN" style="rounded=1;whiteSpace=wrap;html=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="800" y="280" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="-HHlAqrhYP5N8f0GPGwi-10" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=1;endArrow=none;endFill=0;dashed=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" source="-HHlAqrhYP5N8f0GPGwi-13" target="-HHlAqrhYP5N8f0GPGwi-15" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-HHlAqrhYP5N8f0GPGwi-11" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=1;endArrow=none;endFill=0;dashed=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" source="-HHlAqrhYP5N8f0GPGwi-13" target="-HHlAqrhYP5N8f0GPGwi-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-HHlAqrhYP5N8f0GPGwi-12" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=1;endArrow=none;endFill=0;dashed=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" source="-HHlAqrhYP5N8f0GPGwi-13" target="-HHlAqrhYP5N8f0GPGwi-14" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-HHlAqrhYP5N8f0GPGwi-13" value="&lt;b&gt;Receiver&lt;br&gt;&lt;/b&gt;(maintains one TCP connection per client)" style="rounded=1;whiteSpace=wrap;html=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="840" y="160" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="qU6H4BKO57v7GteFw9II-28" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeWidth=2;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.75;entryY=0;entryDx=0;entryDy=0;" parent="HAAp45hf9TvQeZ6A-fO7-1" source="-HHlAqrhYP5N8f0GPGwi-14" target="vaVj92f7ZzTOxJh1_B9I-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="qU6H4BKO57v7GteFw9II-30" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeWidth=2;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.25;entryY=0;entryDx=0;entryDy=0;" parent="HAAp45hf9TvQeZ6A-fO7-1" source="-HHlAqrhYP5N8f0GPGwi-14" target="vaVj92f7ZzTOxJh1_B9I-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-HHlAqrhYP5N8f0GPGwi-14" value="IN" style="rounded=1;whiteSpace=wrap;html=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="960" y="280" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="qU6H4BKO57v7GteFw9II-27" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeWidth=2;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.75;entryY=0;entryDx=0;entryDy=0;" parent="HAAp45hf9TvQeZ6A-fO7-1" source="-HHlAqrhYP5N8f0GPGwi-15" target="vaVj92f7ZzTOxJh1_B9I-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="qU6H4BKO57v7GteFw9II-29" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeWidth=2;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.25;entryY=0;entryDx=0;entryDy=0;" parent="HAAp45hf9TvQeZ6A-fO7-1" source="-HHlAqrhYP5N8f0GPGwi-15" target="vaVj92f7ZzTOxJh1_B9I-7" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="930" y="370" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-HHlAqrhYP5N8f0GPGwi-15" value="IN" style="rounded=1;whiteSpace=wrap;html=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="860" y="280" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="-HHlAqrhYP5N8f0GPGwi-16" value="" style="endArrow=none;dashed=1;html=1;rounded=0;edgeStyle=orthogonalEdgeStyle;jumpSize=6;strokeWidth=2;" parent="HAAp45hf9TvQeZ6A-fO7-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="920" y="300" as="sourcePoint" />
            <mxPoint x="940" y="300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-HHlAqrhYP5N8f0GPGwi-17" value="" style="rhombus;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#000000;align=center;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="780" y="280" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="uQn9iwTZ7EqaHgwMhxsP-0" value="&lt;font style=&quot;font-size: 16px&quot;&gt;&lt;b&gt;Handle messages from our workers&lt;/b&gt;&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="140" y="100" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="uQn9iwTZ7EqaHgwMhxsP-1" value="&lt;font style=&quot;font-size: 16px&quot;&gt;&lt;b&gt;Handle messages from other primaries&lt;/b&gt;&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="820" y="100" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="qU6H4BKO57v7GteFw9II-22" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startArrow=classic;startFill=1;endArrow=classic;endFill=1;strokeWidth=2;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="HAAp45hf9TvQeZ6A-fO7-1" source="vaVj92f7ZzTOxJh1_B9I-0" target="vaVj92f7ZzTOxJh1_B9I-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vaVj92f7ZzTOxJh1_B9I-0" value="&lt;b&gt;Signature Service&lt;br&gt;&lt;/b&gt;(signs headers)" style="rounded=1;whiteSpace=wrap;html=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="600" y="380" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="qU6H4BKO57v7GteFw9II-0" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeWidth=2;exitX=0;exitY=1;exitDx=0;exitDy=0;" parent="HAAp45hf9TvQeZ6A-fO7-1" source="vaVj92f7ZzTOxJh1_B9I-1" target="e2POby9iwt7ZeuPJfHrP-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="qU6H4BKO57v7GteFw9II-1" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeWidth=2;entryX=1;entryY=0;entryDx=0;entryDy=0;exitX=0;exitY=1;exitDx=0;exitDy=0;" parent="HAAp45hf9TvQeZ6A-fO7-1" source="vaVj92f7ZzTOxJh1_B9I-1" target="e2POby9iwt7ZeuPJfHrP-1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="650" y="460" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="qU6H4BKO57v7GteFw9II-2" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.25;entryDx=0;entryDy=0;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeWidth=2;exitX=0;exitY=1;exitDx=0;exitDy=0;" parent="HAAp45hf9TvQeZ6A-fO7-1" source="vaVj92f7ZzTOxJh1_B9I-1" target="e2POby9iwt7ZeuPJfHrP-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="qU6H4BKO57v7GteFw9II-4" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;startArrow=classic;startFill=1;endArrow=classic;endFill=1;strokeWidth=2;" parent="HAAp45hf9TvQeZ6A-fO7-1" source="vaVj92f7ZzTOxJh1_B9I-1" target="vaVj92f7ZzTOxJh1_B9I-6" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="820" y="560" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="qU6H4BKO57v7GteFw9II-6" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0;entryDx=0;entryDy=0;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeWidth=2;exitX=0.25;exitY=1;exitDx=0;exitDy=0;" parent="HAAp45hf9TvQeZ6A-fO7-1" source="vaVj92f7ZzTOxJh1_B9I-1" target="vaVj92f7ZzTOxJh1_B9I-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="qU6H4BKO57v7GteFw9II-8" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0;entryDx=0;entryDy=0;startArrow=classic;startFill=1;endArrow=classic;endFill=1;strokeWidth=2;exitX=0.75;exitY=1;exitDx=0;exitDy=0;" parent="HAAp45hf9TvQeZ6A-fO7-1" source="vaVj92f7ZzTOxJh1_B9I-1" target="vaVj92f7ZzTOxJh1_B9I-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="qU6H4BKO57v7GteFw9II-10" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0;entryDx=0;entryDy=0;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeWidth=2;exitX=1;exitY=1;exitDx=0;exitDy=0;" parent="HAAp45hf9TvQeZ6A-fO7-1" source="vaVj92f7ZzTOxJh1_B9I-1" target="vaVj92f7ZzTOxJh1_B9I-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vaVj92f7ZzTOxJh1_B9I-1" value="&lt;b&gt;Core&lt;br&gt;&lt;/b&gt;(handles headers, votes, certificates)" style="rounded=1;whiteSpace=wrap;html=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="760" y="380" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vaVj92f7ZzTOxJh1_B9I-2" value="&lt;b&gt;Garbage Collector&lt;br&gt;&lt;/b&gt;(updates the GC round)" style="rounded=1;whiteSpace=wrap;html=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="520" y="780" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vaVj92f7ZzTOxJh1_B9I-3" value="&lt;b&gt;Payload Receiver&lt;br&gt;&lt;/b&gt;(stores the batch digests)" style="rounded=1;whiteSpace=wrap;html=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="160" y="380" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="qU6H4BKO57v7GteFw9II-18" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeWidth=2;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="HAAp45hf9TvQeZ6A-fO7-1" source="vaVj92f7ZzTOxJh1_B9I-4" target="qU6H4BKO57v7GteFw9II-15" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="qU6H4BKO57v7GteFw9II-19" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeWidth=2;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="HAAp45hf9TvQeZ6A-fO7-1" source="vaVj92f7ZzTOxJh1_B9I-4" target="qU6H4BKO57v7GteFw9II-14" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="qU6H4BKO57v7GteFw9II-20" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeWidth=2;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="HAAp45hf9TvQeZ6A-fO7-1" source="vaVj92f7ZzTOxJh1_B9I-4" target="qU6H4BKO57v7GteFw9II-13" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vaVj92f7ZzTOxJh1_B9I-4" value="&lt;b&gt;Header Waiter&lt;br&gt;&lt;/b&gt;(requests missing batches and certificates)" style="rounded=1;whiteSpace=wrap;html=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="920" y="660" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vaVj92f7ZzTOxJh1_B9I-5" value="&lt;b&gt;Certificate Waiter&lt;br&gt;&lt;/b&gt;(waits for all the history of certificates)" style="rounded=1;whiteSpace=wrap;html=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="1080" y="660" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vaVj92f7ZzTOxJh1_B9I-6" value="&lt;b&gt;Proposer&lt;br&gt;&lt;/b&gt;(make new headers)" style="rounded=1;whiteSpace=wrap;html=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="760" y="660" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="V3EeohtREDRytG3yM00T-6" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;strokeWidth=2;startArrow=none;startFill=0;exitX=1;exitY=1;exitDx=0;exitDy=0;" parent="HAAp45hf9TvQeZ6A-fO7-1" source="vaVj92f7ZzTOxJh1_B9I-7" target="V3EeohtREDRytG3yM00T-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="V3EeohtREDRytG3yM00T-9" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;strokeWidth=2;startArrow=none;startFill=0;exitX=1;exitY=1;exitDx=0;exitDy=0;" parent="HAAp45hf9TvQeZ6A-fO7-1" source="vaVj92f7ZzTOxJh1_B9I-7" target="V3EeohtREDRytG3yM00T-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="V3EeohtREDRytG3yM00T-10" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;strokeWidth=2;startArrow=none;startFill=0;exitX=1;exitY=1;exitDx=0;exitDy=0;" parent="HAAp45hf9TvQeZ6A-fO7-1" source="vaVj92f7ZzTOxJh1_B9I-7" target="V3EeohtREDRytG3yM00T-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vaVj92f7ZzTOxJh1_B9I-7" value="&lt;b&gt;Helper&lt;br&gt;&lt;/b&gt;(replies to batch requests)" style="rounded=1;whiteSpace=wrap;html=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="920" y="380" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="qU6H4BKO57v7GteFw9II-7" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeWidth=2;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="HAAp45hf9TvQeZ6A-fO7-1" source="vaVj92f7ZzTOxJh1_B9I-8" target="vaVj92f7ZzTOxJh1_B9I-2" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="660" y="740" />
              <mxPoint x="580" y="740" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="vaVj92f7ZzTOxJh1_B9I-8" value="&lt;b&gt;Consensus&lt;br&gt;&lt;/b&gt;(orders certificates)" style="rounded=1;whiteSpace=wrap;html=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="600" y="660" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="e2POby9iwt7ZeuPJfHrP-0" value="Reliable Sender&lt;br&gt;(to other primaries)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;verticalAlign=bottom;dashed=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="480" y="500" width="240" height="100" as="geometry" />
        </mxCell>
        <mxCell id="e2POby9iwt7ZeuPJfHrP-1" value="OUT" style="rounded=1;whiteSpace=wrap;html=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="500" y="520" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="e2POby9iwt7ZeuPJfHrP-2" value="OUT" style="rounded=1;whiteSpace=wrap;html=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="660" y="520" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="e2POby9iwt7ZeuPJfHrP-3" value="OUT" style="rounded=1;whiteSpace=wrap;html=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="560" y="520" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="e2POby9iwt7ZeuPJfHrP-4" value="" style="endArrow=none;dashed=1;html=1;rounded=0;edgeStyle=orthogonalEdgeStyle;jumpSize=6;strokeWidth=2;" parent="HAAp45hf9TvQeZ6A-fO7-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="620" y="539.9999999999998" as="sourcePoint" />
            <mxPoint x="640" y="539.9999999999998" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="e2POby9iwt7ZeuPJfHrP-5" value="" style="rhombus;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#000000;align=center;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="460" y="500" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="V3EeohtREDRytG3yM00T-0" value="Simple Sender&lt;br&gt;(to other primaries)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;verticalAlign=bottom;dashed=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="1080" y="480" width="240" height="100" as="geometry" />
        </mxCell>
        <mxCell id="V3EeohtREDRytG3yM00T-1" value="OUT" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="1100" y="500" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="V3EeohtREDRytG3yM00T-2" value="OUT" style="rounded=1;whiteSpace=wrap;html=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="1260" y="500" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="V3EeohtREDRytG3yM00T-3" value="OUT" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="1160" y="500" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="V3EeohtREDRytG3yM00T-5" value="" style="rhombus;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#000000;align=center;strokeWidth=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="1060" y="480" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="qU6H4BKO57v7GteFw9II-12" value="Simple Sender&lt;br&gt;(to other primaries or our workers)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;verticalAlign=bottom;dashed=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="860" y="780" width="240" height="100" as="geometry" />
        </mxCell>
        <mxCell id="qU6H4BKO57v7GteFw9II-13" value="OUT" style="rounded=1;whiteSpace=wrap;html=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="880" y="800" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="qU6H4BKO57v7GteFw9II-14" value="OUT" style="rounded=1;whiteSpace=wrap;html=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="1040" y="800" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="qU6H4BKO57v7GteFw9II-15" value="OUT" style="rounded=1;whiteSpace=wrap;html=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="940" y="800" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="qU6H4BKO57v7GteFw9II-17" value="" style="rhombus;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#000000;align=center;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="840" y="780" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="pePeARo5CrDZIR2Ze7vS-0" value="&lt;p style=&quot;line-height: 130%&quot;&gt;&lt;/p&gt;&lt;h1&gt;Legend&lt;br&gt;&lt;/h1&gt;&lt;p&gt;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;align=left;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="60" y="730" width="280" height="40" as="geometry" />
        </mxCell>
        <mxCell id="pePeARo5CrDZIR2Ze7vS-1" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;align=center;fillColor=#000000;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="70" y="810" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="pePeARo5CrDZIR2Ze7vS-2" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#000000;align=center;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="70" y="785" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="pePeARo5CrDZIR2Ze7vS-3" value="" style="rhombus;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#000000;align=center;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="70" y="834" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="pePeARo5CrDZIR2Ze7vS-4" value="" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#000000;align=center;fillColor=#FFFFFF;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="180" y="780" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="pePeARo5CrDZIR2Ze7vS-5" style="edgeStyle=none;rounded=0;jumpSize=6;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" parent="HAAp45hf9TvQeZ6A-fO7-1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="180" y="838.5000000000002" as="sourcePoint" />
            <mxPoint x="260" y="839" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="pePeARo5CrDZIR2Ze7vS-6" value="tokio task" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="270" y="785" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="pePeARo5CrDZIR2Ze7vS-7" value="tokio channel" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="270" y="829" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="pePeARo5CrDZIR2Ze7vS-8" value="Network" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="90" y="829" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="pePeARo5CrDZIR2Ze7vS-9" value="Storage" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="90" y="805" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="pePeARo5CrDZIR2Ze7vS-10" value="CPU" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="90" y="780" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Tm-ADq5QafeZEMg3qMQx-0" value="&lt;b&gt;W&lt;/b&gt;" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=none;align=center;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="530" y="750" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Tm-ADq5QafeZEMg3qMQx-2" value="&lt;b&gt;R&lt;/b&gt;" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=none;align=center;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="760" y="350" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Tm-ADq5QafeZEMg3qMQx-3" value="&lt;b&gt;R&lt;/b&gt;" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=none;align=center;strokeWidth=1;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="1010" y="630" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Tm-ADq5QafeZEMg3qMQx-6" value="&lt;b&gt;W&lt;/b&gt;" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=none;align=center;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="380" y="780" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Tm-ADq5QafeZEMg3qMQx-7" value="&lt;b&gt;R&lt;/b&gt;" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=none;align=center;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="380" y="825" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Tm-ADq5QafeZEMg3qMQx-8" value="atomic reader" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="420" y="829" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Tm-ADq5QafeZEMg3qMQx-9" value="atomic writer" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="420" y="785" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="raGEyoFTLa6iEfpR9mSr-0" value="" style="endArrow=none;dashed=1;html=1;rounded=0;edgeStyle=orthogonalEdgeStyle;jumpSize=6;strokeWidth=2;" parent="HAAp45hf9TvQeZ6A-fO7-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1220" y="519.9999999999998" as="sourcePoint" />
            <mxPoint x="1240" y="519.9999999999998" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="raGEyoFTLa6iEfpR9mSr-2" value="" style="endArrow=none;dashed=1;html=1;rounded=0;edgeStyle=orthogonalEdgeStyle;jumpSize=6;strokeWidth=2;" parent="HAAp45hf9TvQeZ6A-fO7-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1000" y="819.9999999999998" as="sourcePoint" />
            <mxPoint x="1020" y="819.9999999999998" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="q7g5QddVz4xeTJMIelNV-0" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;align=center;fillColor=#000000;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="140" y="380" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="q7g5QddVz4xeTJMIelNV-1" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;align=center;fillColor=#000000;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="1050" y="380" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="q7g5QddVz4xeTJMIelNV-4" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;align=center;fillColor=#000000;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="890" y="380" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="q7g5QddVz4xeTJMIelNV-5" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;align=center;fillColor=#000000;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="900" y="660" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="q7g5QddVz4xeTJMIelNV-6" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;align=center;fillColor=#000000;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="1060" y="660" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="2wIVXcvUbFfCVlVOHa5K-0" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#000000;align=center;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="580" y="380" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="2wIVXcvUbFfCVlVOHa5K-1" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#000000;align=center;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="890" y="400" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="2wIVXcvUbFfCVlVOHa5K-2" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#000000;align=center;" parent="HAAp45hf9TvQeZ6A-fO7-1" vertex="1">
          <mxGeometry x="580" y="660" width="10" height="10" as="geometry" />
        </mxCell>
        <mxCell id="cWhTl9HehNrFSJz4O0i3-1" value="&lt;font color=&quot;#ff0000&quot;&gt;OUT&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="HAAp45hf9TvQeZ6A-fO7-1">
          <mxGeometry x="750" y="910" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="cWhTl9HehNrFSJz4O0i3-2" value="&lt;div style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;Simple sender to causally depedent txn client&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="HAAp45hf9TvQeZ6A-fO7-1">
          <mxGeometry x="660" y="950" width="210" height="50" as="geometry" />
        </mxCell>
        <mxCell id="l7zLsnNiw3uqqX6FAv0_-5" value="&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;Causally Dependent Txn checker*&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="HAAp45hf9TvQeZ6A-fO7-1">
          <mxGeometry x="670" y="790" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="l7zLsnNiw3uqqX6FAv0_-6" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.75;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#FF0000;" edge="1" parent="HAAp45hf9TvQeZ6A-fO7-1" source="vaVj92f7ZzTOxJh1_B9I-8" target="l7zLsnNiw3uqqX6FAv0_-5">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="770" y="930" as="sourcePoint" />
            <mxPoint x="820" y="880" as="targetPoint" />
            <Array as="points">
              <mxPoint x="690" y="760" />
              <mxPoint x="730" y="760" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="l7zLsnNiw3uqqX6FAv0_-7" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#FF0000;" edge="1" parent="HAAp45hf9TvQeZ6A-fO7-1" source="l7zLsnNiw3uqqX6FAv0_-5" target="cWhTl9HehNrFSJz4O0i3-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="770" y="930" as="sourcePoint" />
            <mxPoint x="820" y="880" as="targetPoint" />
            <Array as="points">
              <mxPoint x="730" y="880" />
              <mxPoint x="770" y="880" />
            </Array>
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
